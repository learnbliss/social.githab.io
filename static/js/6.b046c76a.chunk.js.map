{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.scss","components/common/Paginator/Paginator.module.scss","components/Users/UserItem/UserItem.module.scss","assets/img/UT8o1ZTXytaXXagOFbXf.jpg","components/common/Paginator/Paginator.js","components/Users/UserItem/UserItem.js","components/Users/Users.js","components/Users/UsersContainer.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","props","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","portionCount","useState","currentPortion","setCurrentPortion","leftPortionSize","rightPortionSize","className","styles","pagButtons","arrow","onClick","pages","getPages","filter","page","map","selectedPage","UserItem","user","followingInProgress","followThunk","unfollowThunk","wrapper","avatar","to","id","src","photos","small","defaultAvatar","alt","followed","disabled","some","userId","descriptionUser","name","status","country","Users","root","wrap","isFetching","Preloader","users","UsersContainer","getUsersThunk","state","this","React","Component","compose","connect","getUsersSelector","getPageSizeSelector","getTotalUsersCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressSelector"],"mappings":"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","file":"static/js/6.b046c76a.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Users_root__2VrZG\",\"wrap\":\"Users_wrap__1zQ0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagButtons\":\"Paginator_pagButtons__1fHnV\",\"page\":\"Paginator_page__EfkFB\",\"arrow\":\"Paginator_arrow__mGU_b\",\"selectedPage\":\"Paginator_selectedPage__1y9hK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserItem_wrapper__23Wfr\",\"avatar\":\"UserItem_avatar__TYRv6\",\"descriptionUser\":\"UserItem_descriptionUser__3XUSa\",\"country\":\"UserItem_country__3ohNX\",\"name\":\"UserItem_name__3voBq\",\"status\":\"UserItem_status__KxCiY\"};","module.exports = __webpack_public_path__ + \"static/media/UT8o1ZTXytaXXagOFbXf.4c159c65.jpg\";","import React, {useEffect, useState} from 'react';\nimport styles from \"./Paginator.module.scss\";\n\nconst Paginator = (props) => {\n    const {totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10} = props;\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    const getPages = () => {\n        let pages = [];\n        for (let i = 1; i <= pagesCount; i++) {\n            pages.push(i)\n        }\n        return pages\n    };\n\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    const [currentPortion, setCurrentPortion] = useState(1);\n    const leftPortionSize = (currentPortion - 1) * portionSize + 1;\n    const rightPortionSize = currentPortion * portionSize;\n\n    const onLeftArrowClick = () => {\n        setCurrentPortion(currentPortion - 1);\n        onPageChanged(leftPortionSize - 1)\n    };\n\n    const onRightArrowClick = () => {\n        setCurrentPortion(currentPortion + 1);\n        onPageChanged(rightPortionSize + 1)\n    };\n\n    return (\n        <div className={styles.pagButtons}>\n            {currentPortion > 1 &&\n            <span className={styles.arrow}\n                  onClick={onLeftArrowClick}>&#60;&#60;</span>}\n            {getPages()\n                .filter(page => {\n                    return page >= leftPortionSize && page <= rightPortionSize\n                })\n                .map((page) => {\n                    return (\n                        <span key={page}\n                              className={`${styles.page} ${currentPage === page && styles.selectedPage}`}\n                              onClick={() => {\n                                  onPageChanged(page)\n                              }}>{page}\n                            </span>\n                    )\n                })}\n            {portionCount > currentPortion &&\n            <span className={styles.arrow}\n                  onClick={onRightArrowClick}>&#62;&#62;</span>}\n        </div>\n    );\n};\n\nexport default Paginator;","import React from 'react';\nimport styles from \"./UserItem.module.scss\";\nimport {NavLink} from \"react-router-dom\";\nimport defaultAvatar from \"../../../assets/img/UT8o1ZTXytaXXagOFbXf.jpg\";\n\nconst UserItem = props => {\n    const {user, followingInProgress, followThunk, unfollowThunk} = props;\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.avatar}>\n                <div>\n                    <NavLink to={`/profile/${user.id}`}>\n                        <img\n                            src={user.photos.small !== null ? user.photos.small : defaultAvatar}\n                            alt='avatar'/>\n                    </NavLink>\n                </div>\n                {user.followed ?\n                    <button disabled={followingInProgress.some(userId => {\n                        return userId === user.id\n                    })}\n                            onClick={() => {\n                                followThunk(user.id)\n                                // followingInProgressAC(true, user.id);\n                                // API.setUnfollow(user.id).then((data) => {\n                                //     if (data.resultCode === 0) {\n                                //         props.unfollow(user.id);\n                                //     }\n                                //     followingInProgressAC(false, user.id);\n                                // });\n                            }}>Unfollow</button>\n                    : <button disabled={followingInProgress.some(userId => {\n                        return userId === user.id\n                    })}\n                              onClick={() => {\n                                  unfollowThunk(user.id)\n                                  // followingInProgressAC(true, user.id);\n                                  // API.setFollow(user.id).then((data) => {\n                                  //     if (data.resultCode === 0) {\n                                  //         props.follow(user.id);\n                                  //     }\n                                  //     followingInProgressAC(false, user.id);\n                                  // });\n                              }}>Follow</button>\n                }\n            </div>\n            <div className={styles.descriptionUser}>\n                <div className={styles.name}>\n                    <div>{user.name}</div>\n                    <div className={styles.status}>{user.status}</div>\n                </div>\n                <div className={styles.country}>\n                    <div>'user.location.country',</div>\n                    <div>'user.location.city'</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default UserItem;","import React from 'react';\nimport styles from './Users.module.scss';\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport UserItem from \"./UserItem/UserItem\";\n\nconst Users = ({totalItemsCount, pageSize, currentPage, onPageChanged, ...props}) => {\n    return (\n        <div className={styles.root}>\n            <Paginator totalItemsCount={totalItemsCount}\n                       pageSize={pageSize}\n                       currentPage={currentPage}\n                       onPageChanged={onPageChanged}/>\n            <div className={styles.wrap}>\n                {props.isFetching ?\n                    <Preloader/>\n                    : props.users.map((user) => {\n                        return (\n                            <UserItem key={user.id}\n                                      user={user}\n                                      followingInProgress={props.followingInProgress}\n                                      followThunk={props.followThunk}\n                                      unfollowThunk={props.unfollowThunk}/>\n                        )\n                    })}\n            </div>\n        </div>\n    );\n};\n\nexport default Users;","import {connect} from 'react-redux';\nimport {\n    followThunk,\n    getCurrentPageSelector,\n    getFollowingInProgressSelector,\n    getIsFetchingSelector,\n    getPageSizeSelector,\n    // getPortionSize,\n    getTotalUsersCountSelector,\n    getUsersSelector,\n    getUsersThunk,\n    unfollowThunk\n} from '../../reducers/UsersReducer';\nimport React from 'react';\nimport Users from './Users';\nimport {compose} from \"redux\";\n\nclass UsersContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    componentDidMount(): void {\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize)\n        // this.props.toggleIsFetchingAC(true);\n        // if (this.props.users.length === 0) {\n        //     API.getUsers(this.props.currentPage, this.props.pageSize).then((data) => {\n        //         this.props.toggleIsFetchingAC(false);\n        //         this.props.setUsersAC(data.items);\n        //         this.props.setTotalCountAC(data.totalCount);\n        //     });\n        // }\n    }\n\n    onPageChanged = (page) => {\n        this.props.getUsersThunk(page, this.props.pageSize)\n        // this.props.toggleIsFetchingAC(true);\n        // this.props.setCurrentPageAC(page);\n        // API.getUsers(page, this.props.pageSize).then((data) => {\n        //     this.props.toggleIsFetchingAC(false);\n        //     this.props.setUsersAC(data.items)\n        // });\n    };\n\n    render() {\n        return (\n            <Users totalItemsCount={this.props.totalItemsCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   isFetching={this.props.isFetching}\n                   followingInProgress={this.props.followingInProgress}\n                   followThunk={this.props.followThunk}\n                   unfollowThunk={this.props.unfollowThunk}\n                   portionSize={this.props.portionSize}/>\n        );\n    }\n}\n\n// const mapStateToProps = (state) => {\n//     return {\n//         users: state.userPage.users,\n//         pageSize: state.userPage.pageSize,\n//         totalItemsCount: state.userPage.totalItemsCount,\n//         currentPage: state.userPage.currentPage,\n//         isFetching: state.userPage.isFetching,\n//         followingInProgress: state.userPage.followingInProgress,\n//     }\n// };\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsersSelector(state),\n        pageSize: getPageSizeSelector(state),\n        totalItemsCount: getTotalUsersCountSelector(state),\n        currentPage: getCurrentPageSelector(state),\n        isFetching: getIsFetchingSelector(state),\n        followingInProgress: getFollowingInProgressSelector(state),\n        // portionSize: getPortionSize(state),\n    }\n};\n\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         followAC: (userId) => {\n//             dispatch(followAC(userId))\n//         },\n//         unfollowAC: (userId) => {\n//             dispatch(unfollowAC(userId))\n//         },\n//         setUsersAC: (users) => {\n//             dispatch(setUsersAC(users))\n//         },\n//         setCurrentPageAC: (currentPage) => {\n//             dispatch(setCurrentPageAC(currentPage))\n//         },\n//         setTotalCountAC: (totalCount) => {\n//             dispatch(setTotalCountAC(totalCount))\n//         },\n//         toggleIsFetchingAC: (isFetching) => {\n//             dispatch(toggleIsFetchingAC(isFetching))\n//         }\n//     }\n// };\n\nexport default compose(\n    connect(mapStateToProps,\n        {\n            getUsersThunk,\n            followThunk,\n            unfollowThunk,\n        }\n    ),\n    // widthAuthRedirect,\n)(UsersContainer)\n\n// export default widthAuthRedirect(connect(mapStateToProps,\n//     {\n//         getUsersThunk,\n//         followThunk,\n//         unfollowThunk,\n//     }\n// )(UsersContainer));"],"sourceRoot":""}