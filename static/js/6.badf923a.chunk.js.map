{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.scss","components/common/Paginator/Paginator.module.scss","components/Users/UserItem/UserItem.module.scss","assets/img/UT8o1ZTXytaXXagOFbXf.jpg","components/common/Paginator/Paginator.tsx","components/Users/UserItem/UserItem.tsx","components/Users/Users.tsx","components/Users/UsersContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","props","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","portionCount","useState","currentPortion","setCurrentPortion","leftPortionSize","rightPortionSize","className","styles","pagButtons","arrow","onClick","pages","getPages","filter","page","map","key","selectedPage","UserItem","user","followingInProgress","followThunk","unfollowThunk","wrapper","avatar","to","id","src","photos","small","defaultAvatar","alt","followed","disabled","some","userId","descriptionUser","name","status","country","Users","root","wrap","isFetching","Preloader","users","testTypeScript","UsersContainer","getUsersThunk","state","this","console","log","React","Component","connect","getCurrentPageSelector","getIsFetchingSelector","getPageSizeSelector","getTotalUsersCountSelector","getUsersSelector","getFollowingInProgressSelector"],"mappings":"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","file":"static/js/6.badf923a.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Users_root__2VrZG\",\"wrap\":\"Users_wrap__1zQ0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagButtons\":\"Paginator_pagButtons__1fHnV\",\"page\":\"Paginator_page__EfkFB\",\"arrow\":\"Paginator_arrow__mGU_b\",\"selectedPage\":\"Paginator_selectedPage__1y9hK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserItem_wrapper__23Wfr\",\"avatar\":\"UserItem_avatar__TYRv6\",\"descriptionUser\":\"UserItem_descriptionUser__3XUSa\",\"country\":\"UserItem_country__3ohNX\",\"name\":\"UserItem_name__3voBq\",\"status\":\"UserItem_status__KxCiY\"};","module.exports = __webpack_public_path__ + \"static/media/UT8o1ZTXytaXXagOFbXf.4c159c65.jpg\";","import React, {useState} from 'react';\nimport styles from \"./Paginator.module.scss\";\nimport { onPageChangedType } from '../../../types/types';\n\ntype PropsTypes = {\n    totalItemsCount: number,\n    pageSize: number,\n    currentPage: number,\n    onPageChanged: onPageChangedType,\n    portionSize?: number,\n}\n\nconst Paginator: React.FC<PropsTypes> = (props) => {\n    const {totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10} = props;\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    const getPages = () => {\n        let pages: Array<number> = [];\n        for (let i = 1; i <= pagesCount; i++) {\n            pages.push(i)\n        }\n        return pages\n    };\n\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    const [currentPortion, setCurrentPortion] = useState(1);\n    const leftPortionSize = (currentPortion - 1) * portionSize + 1;\n    const rightPortionSize = currentPortion * portionSize;\n\n    const onLeftArrowClick = () => {\n        setCurrentPortion(currentPortion - 1);\n        onPageChanged(leftPortionSize - 1)\n    };\n\n    const onRightArrowClick = () => {\n        setCurrentPortion(currentPortion + 1);\n        onPageChanged(rightPortionSize + 1)\n    };\n\n    return (\n        <div className={styles.pagButtons}>\n            {currentPortion > 1 &&\n            <span className={styles.arrow}\n                  onClick={onLeftArrowClick}>&#60;&#60;</span>}\n            {getPages()\n                .filter(page => {\n                    return page >= leftPortionSize && page <= rightPortionSize\n                })\n                .map((page) => {\n                    return (\n                        <span key={page}\n                              className={`${styles.page} ${currentPage === page && styles.selectedPage}`}\n                              onClick={() => {\n                                  onPageChanged(page)\n                              }}>{page}\n                            </span>\n                    )\n                })}\n            {portionCount > currentPortion &&\n            <span className={styles.arrow}\n                  onClick={onRightArrowClick}>&#62;&#62;</span>}\n        </div>\n    );\n};\n\nexport default Paginator;","import React from 'react';\nimport styles from \"./UserItem.module.scss\";\nimport {NavLink} from \"react-router-dom\";\nimport defaultAvatar from \"../../../assets/img/UT8o1ZTXytaXXagOFbXf.jpg\";\nimport {followingInProgressType, usersType} from \"../../../types/types\";\n\ntype PropsTypes = {\n    user: usersType,\n    followingInProgress: followingInProgressType,\n    followThunk: (userId: number) => void,\n    unfollowThunk: (userId: number) => void,\n    testTypeScript: string,\n}\n\nconst UserItem: React.FC<PropsTypes> = (props) => {\n    const {user, followingInProgress, followThunk, unfollowThunk} = props;\n    return (\n        <div className={styles.wrapper}>\n            {/*<h1>props.testTypeScript</h1>*/}\n            <div className={styles.avatar}>\n                <div>\n                    <NavLink to={`/profile/${user.id}`}>\n                        <img\n                            src={user.photos.small !== null ? user.photos.small : defaultAvatar}\n                            alt='avatar'/>\n                    </NavLink>\n                </div>\n                {user.followed ?\n                    <button disabled={followingInProgress.some(userId => {\n                        return userId === user.id\n                    })}\n                            onClick={() => {\n                                followThunk(user.id)\n                                // followingInProgressAC(true, user.id);\n                                // API.setUnfollow(user.id).then((data) => {\n                                //     if (data.resultCode === 0) {\n                                //         props.unfollow(user.id);\n                                //     }\n                                //     followingInProgressAC(false, user.id);\n                                // });\n                            }}>Unfollow</button>\n                    : <button disabled={followingInProgress.some(userId => {\n                        return userId === user.id\n                    })}\n                              onClick={() => {\n                                  unfollowThunk(user.id)\n                                  // followingInProgressAC(true, user.id);\n                                  // API.setFollow(user.id).then((data) => {\n                                  //     if (data.resultCode === 0) {\n                                  //         props.follow(user.id);\n                                  //     }\n                                  //     followingInProgressAC(false, user.id);\n                                  // });\n                              }}>Follow</button>\n                }\n            </div>\n            <div className={styles.descriptionUser}>\n                <div className={styles.name}>\n                    <div>{user.name}</div>\n                    <div className={styles.status}>{user.status}</div>\n                </div>\n                <div className={styles.country}>\n                    <div>'user.location.country',</div>\n                    <div>'user.location.city'</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default UserItem;","import React from 'react';\nimport styles from './Users.module.scss';\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport UserItem from \"./UserItem/UserItem\";\nimport {followingInProgressType, onPageChangedType, usersType} from \"../../types/types\";\n\ntype PropsTypes = {\n    currentPage: number,\n    followThunk: (userId: number) => void,\n    followingInProgress: followingInProgressType,\n    isFetching: boolean,\n    onPageChanged: onPageChangedType,\n    pageSize: number,\n    totalItemsCount: number,\n    unfollowThunk: (userId: number) => void,\n    users: Array<usersType>,\n}\n\nconst Users: React.FC<PropsTypes> = (props) => {\n    const {totalItemsCount, pageSize, currentPage, onPageChanged} = props;\n    return (\n        <div className={styles.root}>\n            <Paginator totalItemsCount={totalItemsCount}\n                       pageSize={pageSize}\n                       currentPage={currentPage}\n                       onPageChanged={onPageChanged}/>\n            <div className={styles.wrap}>\n                {props.isFetching ?\n                    <Preloader/>\n                    : props.users.map((user: usersType) => {\n                        return (\n                            <UserItem key={user.id}\n                                      user={user}\n                                      followingInProgress={props.followingInProgress}\n                                      followThunk={props.followThunk}\n                                      unfollowThunk={props.unfollowThunk}\n                                      testTypeScript={'testTypeScript'}/>\n                        )\n                    })}\n            </div>\n        </div>\n    );\n};\n\nexport default Users;","import {connect} from 'react-redux';\nimport {\n    followThunk,\n    getCurrentPageSelector,\n    getFollowingInProgressSelector,\n    getIsFetchingSelector,\n    getPageSizeSelector,\n    getTotalUsersCountSelector,\n    getUsersSelector,\n    getUsersThunk,\n    unfollowThunk\n} from '../../reducers/UsersReducer';\nimport React from 'react';\nimport Users from './Users';\nimport {compose} from \"redux\";\nimport {followingInProgressType, usersType} from \"../../types/types\";\nimport {stateType} from '../../redux/redux';\n\n// type mapStateToPropsType = {\n//     currentPage: number,\n//     isFetching: boolean,\n//     pageSize: number,\n//     totalItemsCount: number,\n//     users: Array<usersType>,\n//     followingInProgress: followingInProgressType,\n// }\n//\n// type mapDispatchToPropsType = {\n//     followThunk: (userId: number) => void,\n//     getUsersThunk: (currentPage: number, pageSize: number) => void,\n//     unfollowThunk: (userId: number) => void\n// }\n\n// type PropsTypes = mapStateToPropsType & mapDispatchToPropsType;\n\nclass UsersContainer extends React.Component {\n// class UsersContainer extends React.Component<PropsTypes> {\n    constructor(props) {\n        // constructor(props: PropsTypes) {\n        super(props);\n        this.state = {}\n    }\n\n    componentDidMount() {\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize)\n        // this.props.toggleIsFetchingAC(true);\n        // if (this.props.users.length === 0) {\n        //     API.getUsers(this.props.currentPage, this.props.pageSize).then((data) => {\n        //         this.props.toggleIsFetchingAC(false);\n        //         this.props.setUsersAC(data.items);\n        //         this.props.setTotalCountAC(data.totalCount);\n        //     });\n        // }\n    }\n\n    onPageChanged = (page) => {\n        // onPageChanged = (page: number) => {\n        this.props.getUsersThunk(page, this.props.pageSize)\n        // this.props.toggleIsFetchingAC(true);\n        // this.props.setCurrentPageAC(page);\n        // API.getUsers(page, this.props.pageSize).then((data) => {\n        //     this.props.toggleIsFetchingAC(false);\n        //     this.props.setUsersAC(data.items)\n        // });\n    };\n\n    render() {\n        console.log('this.props.users', this.props.users);\n        return (\n            <Users totalItemsCount={this.props.totalItemsCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   isFetching={this.props.isFetching}\n                   followingInProgress={this.props.followingInProgress}\n                   followThunk={this.props.followThunk}\n                   unfollowThunk={this.props.unfollowThunk}/>\n        );\n    }\n}\n\n// const mapStateToProps = (state) => {\n//     return {\n//         users: state.userPage.users,\n//         pageSize: state.userPage.pageSize,\n//         totalItemsCount: state.userPage.totalItemsCount,\n//         currentPage: state.userPage.currentPage,\n//         isFetching: state.userPage.isFetching,\n//         followingInProgress: state.userPage.followingInProgress,\n//     }\n// };\nconst mapStateToProps = (state) => {\n// const mapStateToProps = (state: stateType): mapStateToPropsType => {\n    return {\n        currentPage: getCurrentPageSelector(state),\n        isFetching: getIsFetchingSelector(state),\n        pageSize: getPageSizeSelector(state),\n        totalItemsCount: getTotalUsersCountSelector(state),\n        users: getUsersSelector(state),\n        followingInProgress: getFollowingInProgressSelector(state),\n    }\n};\n\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         followAC: (userId) => {\n//             dispatch(followAC(userId))\n//         },\n//         unfollowAC: (userId) => {\n//             dispatch(unfollowAC(userId))\n//         },\n//         setUsersAC: (users) => {\n//             dispatch(setUsersAC(users))\n//         },\n//         setCurrentPageAC: (currentPage) => {\n//             dispatch(setCurrentPageAC(currentPage))\n//         },\n//         setTotalCountAC: (totalCount) => {\n//             dispatch(setTotalCountAC(totalCount))\n//         },\n//         toggleIsFetchingAC: (isFetching) => {\n//             dispatch(toggleIsFetchingAC(isFetching))\n//         }\n//     }\n// };\n// export default connect<mapStateToPropsType, mapDispatchToPropsType, null, stateType>(\nexport default connect(mapStateToProps,\n    {\n        getUsersThunk,\n        followThunk,\n        unfollowThunk,\n    }\n)(UsersContainer);"],"sourceRoot":""}